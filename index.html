<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
</head>
<style>
    body {
        box-sizing: border-box;

    }

    .box {
        display: flex;
        text-align: center;
        flex-wrap: wrap;
    }

    .box img {
        margin-right: 20px;
    }

    .h1 {
        display: flex;
        justify-content: center;
    }

    .button {
        display: flex;
        justify-content: center;
      

    }

    .btn {
        margin: 20px;
    }
    .pageNumber{
        margin-top: 28px;
    }
</style>

<body>
    <h1 style="text-align: center;">Filmų sąrašas</h1>
    <div class="box"></div>
    <div class="button">

    </div>
    <div class="pagenr"></div>
    
    <script>




        let Page = 1
        


        let html = document.querySelector('.box')
        let btn = document.querySelector('.button')
       

        const getData = async (url) => {
            try {
                const resp = await fetch(url)
                return await resp.json()
            } catch {
                return false
            }
        }
        const showData = async () => {
            const resp = await getData('http://www.omdbapi.com/?apikey=8e6561c3&s=Batman&page=' + Page)
            console.log(resp)
            for (let i = 0; i < 10; i++) {
               
                
                html.innerHTML +=`<div>
                                        
                                    <img src="${resp.Search[i].Poster}" alt="" />
                                    <h5> ${resp.Search[i].Title}</h5>
                                    <p>${resp.Search[i].Year}</p>
                                    <p>${resp.Search[i].Type}</p>

                                </div>`
                            
                                

            }
            
     
       
            pagenr.innerHTML = `<p>Puslapis: ${Page}</p>`

           

        }
      

        btn.innerHTML += `<button class="btn btn-danger" onclick="Previous()" >Previous</button>

        <p class="pageNumber"></p>
<button class="btn btn-danger" onclick="Next()">Next</button>
`         
        
         

        

     let pagenr = document.querySelector('.pageNumber')
       

        showData()

       

        const Next = () => {

            html.innerHTML = ''
            Page += 1
            console.log('button veikia')
           


            showData()

        }

        const Previous = () => {
            if (Page > 1) {
                html.innerHTML = ''
                Page -= 1
                console.log('button veikia')
                showData()
            }
        }
    </script>

</body>

</html>